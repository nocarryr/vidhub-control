dist: trusty
sudo: false
language: python
python: "3.5"
addons:
    apt:
        sources:
            - sourceline: "ppa:kivy-team/kivy-daily"
        packages:
            - kivy
install:
    - pip install -U pip setuptools wheel
    - pip install -r requirements-test.txt
    - pip install -e .
before_script:
    export DISPLAY=:99.0;
    /sbin/start-stop-daemon --start --quiet --pidfile /tmp/custom_xvfb_99.pid --make-pidfile --background --exec /usr/bin/Xvfb -- :99 -screen 0 1280x720x24 -ac +extension GLX;
script:
    - py.test --cov-config .coveragerc --cov=vidhubcontrol
after_success:
    - coveralls
